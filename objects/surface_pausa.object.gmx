<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-5</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Explicación - Inicio de atributos

/* Este objeto crea un sprite con las cosas que hay en el fondo usando surface para dar un efecto de desenfoque, luego deshabilita los objetos y comienza 
a dibujar el sprite de fondo (sin tener que estar creandolo constanemente, todo lo anterior se hace en el evento "draw" para uso óptimo)*/

// Generales
crear_sprite = true; // Cuando esta activado, se crea el sprite en el evento "draw" con los surface correspondientes...luego se deshabilita para no estar dibujandolo todo el tiempo.

// Para el manejo de la imagen.

spr = -1;           // Esto mantendrá el sprite borroso final (debe borrarse luego al sacarse la pausa).
intensidad_blur= 0.5;    // Blur = descenfoque...mientras menos sea el número, mas intensidad.
steps = 3;          // Cantidad de desenfoque en el surface (superficie), más es mejor pero es mas lento (consume mas).

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Se crea el sprite de fondo / Se dibuja el sprite creado

if( crear_sprite == true ){

    //---&gt; Creación del sprite
    
       // Se dibuja una serie de surface cada una más pequeño que la anterior (el tamaño se basa según el atributo "insensidad_blur")
        var surface = -1; 
        
        for( i = 0; i &lt;= steps; i += 1 ){
        
            surface[i] = surface_create( room_width * power( intensidad_blur, i ), room_height * power( intensidad_blur, i ) );    
    
             // Se "limpia" el surface (se borra cualquier rastro que haya quedado en memoria al dibujarse):
             surface_set_target( surface [i] );
                draw_clear_alpha(c_black, 1); 
             surface_reset_target();
            
        }
        
        // Se marca que se dibujará en el primer surface todo lo que se ve en pantalla (se saca el tema de usar transparencia para que use tal cual lo que copia)
        surface_set_target( surface[0] );
            
            draw_enable_alphablend( false );
            draw_surface( application_surface, 0, 0 );
            draw_enable_alphablend( true );  
            
        surface_reset_target();
        
        // Se dibuja en cada surface el anterior que había en el arreglo pero reduciendolo según el factor de "intensidad_blur" (esto da un efecto de 
        for( i = 1; i &lt;= steps; i += 1 ){
        
            surface_set_target( surface[i] );
            
                draw_enable_alphablend( false );
                draw_surface_ext( surface[i - 1], 0, 0, intensidad_blur, intensidad_blur, 0, c_white, 1);
                draw_enable_alphablend( true ); 
                
            surface_reset_target();
        
        }
        
        // Ahora se hace paso inverso del anterior: se dibuja en cada surface lo que tiene el siguiente pero agrandado un factor "intensidad_blur"
        for( i= steps - 1; i &gt;= 0; i -= 1 ){
            surface_set_target( surface[i] );
                draw_surface_ext( surface[i + 1], 0, 0, ( 1 / intensidad_blur ), ( 1 / intensidad_blur ), 0, c_white, 1);
            surface_reset_target();
        
        }
        
        
        // Se crea  un sprite basado en lo que hay en el primer surface con el tamaño del room.
        sprite_fondo = sprite_create_from_surface( surface[0], 0, 0, room_width, room_height, false, false, 0, 0 );
        
        // Se remueven todos los surface usados de la memoria.     
        for( i = 0; i &lt;= steps; i += 1 ){ surface_free( surface[i] ); }
        
    //---&gt; En el caso que se esta reproduciendo un efecto de flasheo (usado en el sector extra por el jefe final), se cambia el atributo para que permanezca el efecto flasheo.
    if( sector_actual == 7 and control_efectos.activado == true ){ control_efectos.activado = false; }
        
    //---&gt; Se detiene todo en pantalla y se marca que ya se creo el sprite.
    
        crear_sprite = false;
        
        // Se descativan todas las instancias menos está y las que estén fuera del room, luego se activa el cartel creado al hacer pausa.
        instance_deactivate_region(0, 0, room_ancho, room_alto, true, true);
        instance_activate_object(ob_carteles);
        

}

// Se dibuja el sprite crado en pantalla.
draw_sprite( sprite_fondo, 0, 0, 0 );
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
